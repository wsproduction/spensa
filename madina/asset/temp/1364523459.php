<?php  Session::init(); ?><!DOCTYPE html><html lang="en"><head><title><?php  echo Web::getTitle(true, '|'); ?></title><meta charset="utf-8" /><?php  Src::icon('madina_icon.png'); /* jQuery Plugin */ Src::plugin()->jQuery(); Src::plugin()->jQueryUI('flick'); Src::css('layout'); Src::css('custom'); /* Loader */ echo Src::getJavascript(); echo Src::getCss(); ?><script>/* jQuery Custom */ eval(function(p,a,c,k,e,r){e=function(c){return c.toString(a)};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('c.9.e({b:2(0){6 7.8(2(){1(0==\'a\'){$(\'#3-4\').d(\'5\')}f 1(0==\'g\'){$(\'#3-4\').h(\'5\')}})}});',18,18,'action|if|function|loading|progress|fast|return|this|each|fn|start|loadingProgress|jQuery|slideDown|extend|else|stop|slideUp'.split('|'),0,{})); </script></head><body><div id="loading-progress">&nbsp;</div><div id="bound"><div id="header"><div class="float-left title"><?php  echo Web::$webName; ?></div><div class="float-right btn-top-bar" style="display: none;">&nbsp; </div><div class="cl">&nbsp;</div></div><div id="page_menu"><ul id="navigation" class="dropdown"><?php  if (Session::get('__login_status')) { $hostname = 'http://' . Web::getHost(); ?><li><a href="<?php  echo $hostname . '/dashboard' ?>">Beranda</a></li><li><a>Data Master</a><ul style="width: 150px;"><li><a href="<?php  echo $hostname . '/product' ?>">Data Produk</a></li><li><a href="<?php  echo $hostname . '/itemproduct' ?>">Data Item Produk</a></li></ul></li><li><a href="<?php  echo $hostname . '/reseller' ?>">Data Reseller</a></li><li><a href="<?php  echo $hostname . '/order' ?>">Data Pesanan</a></li><li><a>Laporan</a></li><li><a href="<?php  echo $hostname . '/login/stop' ?>">Logout</a></li><?php  }?></ul><div class="cl">&nbsp;</div></div><div id="content"><div id="box-content"><table id="list" title="<?php  echo Web::getTitle(); ?>"link_c="<?php  echo $link_c; ?>" link_r="<?php  echo $link_r; ?>" link_u="<?php  echo $link_u; ?>" link_d="<?php  echo $link_d; ?>"></table><div class="cl">&nbsp;</div></div><div id="box-form" style="display: none;"><?php  Form::begin('frm_data'); Form::create('hidden', 'id'); Form::commit(); ?><div class="view_message"></div><table style="margin: 5px 0 0 0;"><tr><td style="width: 150px;"><div class="label-ina">Nama Lengkap</div><div class="label-eng">Full Name</div></td><td>:</td><td><?php  Form::create('text', 'fullname'); Form::size(60); Form::validation()->requaired('*'); Form::commit(); ?></td></tr><tr><td style="width: 100px;"><div class="label-ina">Nama Panggilan</div><div class="label-eng">Nickname</div></td><td>:</td><td><?php  Form::create('text', 'nickname'); Form::size(40); Form::validation()->requaired('*'); Form::commit(); ?></td></tr><tr><td><div class="label-ina">Jenis Kelamin</div><div class="label-eng">Gender</div></td><td>:</td><td><?php  Form::create('select', 'gender'); Form::option(0 =>'Perempuan', 1 =>'Laki-Laki'); Form::validation()->requaired('*'); Form::commit(); ?></td></tr><tr><td valign="top" style="padding-top: 10px;"><div class="label-ina">Alamat</div><div class="label-eng">Address</div></td><td valign="top" style="padding-top: 10px;">:</td><td><?php  Form::create('textarea', 'adress'); Form::size(40, 4); Form::commit(); ?></td></tr><tr><td style="width: 150px;"><div class="label-ina">Status</div></td><td>:</td><td><?php  Form::create('select', 'status'); Form::option(array(0 =>'Tidak Aktif', 1 =>'Aktif')); Form::commit(); ?></td></tr><tr><td></td><td></td><td><button id="btn_save">Simpan</button><button id="btn_reset">Reset</button></td></tr></table><?php  Form::end(); ?></div><script>$(function() { var y = screen.height * 0.70; $('#box-content').css('min-height', y + "px"); var form_status = 'add'; var data; var set_form = function(data) { $('#id').val(data['product_id']); $('#category').val(data['aggregation_category']); $('#type').html(data['option_product_type']).val(data['product_type']); $('#name').val(data['product_name']); $('#description').val(data['product_description']); $('#status').val(data['product_status']); $('#box-form').dialog('open'); }; /* Index */ $('#list').flexigrid({ url : $('#list').attr('link_r'), dataType : 'xml', colModel : [ { display : 'ID', name : 'reseller_id', width : 60, sortable : true, align : 'center' }, { display : 'Nama Lengkap', name : 'product_name', width : 120, sortable : true, align : 'left' }, { display : 'Nama Panggilan', name : 'category_name', width : 80, sortable : true, align : 'left', hide : true }, { display : 'Jenis Kelamin', name : 'category_name', width : 70, sortable : true, align : 'center', hide : true }, { display : 'Alamat', name : 'category_name', width : 180, sortable : true, align : 'left', hide : true }, { display : 'Tempat Tanggal Lahir', name : 'language_entry', width : 110, sortable : true, align : 'center' }, { display : 'Pendidikan', name : 'language_entry', width : 60, sortable : true, align : 'center' }, { display : 'Pekerjaan', name : 'language_entry', width : 100, sortable : true, align : 'center' }, { display : 'Kontak', name : 'language_entry', width : 150, sortable : true, align : 'left' }, { display : 'Status', name : 'language_entry', width : 60, sortable : true, align : 'center' }, { display : 'Tanggal Input', name : 'language_entry', width : 80, sortable : true, align : 'center' }, { display : 'Tanggal Update', name : 'language_entry_update', width : 80, sortable : true, align : 'center' }, { display : 'Option', name : 'option', width : 80, align : 'center' }], buttons : [ { name : 'Tambah', bclass : 'add', onpress : function() { form_status = 'add'; $('#frm_data .view_message').html(''); $('#frm_data')[0].reset(); $('#box-form').dialog('open'); } }, { name : 'Hapus', bclass : 'delete', onpress : function() { var leng = $('#list .trSelected').length; var conf = confirm('Delete ' + leng + ' items?'); if (conf) { if (leng >0) { var tempId = []; $('#list .trSelected td[abbr=reseller_id] div').each(function() { tempId.push(parseInt($(this).text())); }); $(this).loadingProgress('start'); $.post($('#list').attr('link_d'), { id : tempId.join(',') }, function(o){ $(this).loadingProgress('stop'); if (o) { $('#list').flexReload(); } else { alert('Proses hapus gagal.'); } }, 'json'); } } } } ], searchitems : [ { display : 'ID', name : 'reseller_id', isdefault : true }, { display : 'Nama Produk', name : 'product_name' } ], nowrap : false, sortname : "reseller_id", sortorder : "asc", usepager : true, title : $('#list').attr('title'), useRp : true, rp : 15, showTableToggleBtn : false, resizable : false, width : '100%', height : screen.height * 0.55}); $('.edit').live('click', function(){ form_status = 'edit'; $('#frm_data .view_message').html(''); $('#frm_data')[0].reset(); $(this).loadingProgress('start'); var url = $(this).attr('href'); $.post(url, function(o){ $(this).loadingProgress('stop'); if (o[0]) { data = o[1]; set_form(data); } else { alert('Maaf, data tidak ditemukan.'); } }, 'json'); return false;}); /* Form Data */$('#btn_save').button({ icons: { primary: "ui-icon-disk" }}); $('#btn_reset').button({ icons: { primary: "ui-icon-refresh" }}).live('click', function(){ if (form_status == 'add') { $('#frm_data')[0].reset(); } else { set_form(data ); } return false;}); $('#box-form').dialog({ title : '', closeOnEscape: false, autoOpen: false, height: 400, width: 500, modal: false, resizable: false, draggable: true, open : function() { if (form_status == 'add') { $('#category').removeAttr('disabled'); $('#type').removeAttr('disabled'); $('#box-form').dialog('option', 'title', 'Tambah Data Reseller'); } else { $('#category').attr('disabled','disabled'); $('#type').attr('disabled','disabled'); $('#box-form').dialog('option', 'title', 'Edit Data Reseller'); } }}); $('#category').live('change', function() { var url = $(this).attr('link'); var id = $(this).val(); var target = $('#type'); target.html('<option>Loading...</option>'); $.post(url, { data : id }, function(o){ target.html(o); }, 'json');}); $('#frm_data').live('submit', function() { var parent = $(this); var url; var data = parent.serialize(); url = $('#list').attr('link_c'); if (form_status == 'edit') { url = $('#list').attr('link_u'); } $.post(url, data, function(o){ $('.view_message', parent).html(o[1]); }, 'json'); return false;}); });</script><div class="cl">&nbsp;</div></div></div><div id="footer"><b>WS Production &copy; 2013 | Develope by : </b><b><a href="www.facebook.com/warman.suganda">Warman Suganda</a><br>Best View</b>&nbsp;with <b><a href="www.google.com/chrome">Google Chrome</a></b>, <b>Screen Resolution</b>&nbsp;: 1280 x 800 Pixcel </div><script>$(function(){ $("ul.dropdown li").hover(function(){ $(this).addClass("hover"); $('ul:first',this).css('visibility', 'visible'); }, function(){ $(this).removeClass("hover"); $('ul:first',this).css('visibility', 'hidden'); }); }); </script></body></html>